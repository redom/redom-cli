{"version":3,"file":"main.js","sources":["../../node_modules/redom/dist/redom.es.js","../../js/dispatch.js","../../js/hello.js","../../js/app.js","../../node_modules/@redom/store/dist/redom-store.es.js","../../js/api.js","../../js/index.js"],"sourcesContent":["var HASH = '#'.charCodeAt(0);\nvar DOT = '.'.charCodeAt(0);\n\nfunction createElement (query, ns) {\n  var tag;\n  var id;\n  var className;\n\n  var mode = 0;\n  var start = 0;\n\n  for (var i = 0; i <= query.length; i++) {\n    var char = query.charCodeAt(i);\n\n    if (char === HASH || char === DOT || !char) {\n      if (mode === 0) {\n        if (i === 0) {\n          tag = 'div';\n        } else if (!char) {\n          tag = query;\n        } else {\n          tag = query.substring(start, i);\n        }\n      } else {\n        var slice = query.substring(start, i);\n\n        if (mode === 1) {\n          id = slice;\n        } else if (className) {\n          className += ' ' + slice;\n        } else {\n          className = slice;\n        }\n      }\n\n      start = i + 1;\n\n      if (char === HASH) {\n        mode = 1;\n      } else {\n        mode = 2;\n      }\n    }\n  }\n\n  var element = ns ? document.createElementNS(ns, tag) : document.createElement(tag);\n\n  if (id) {\n    element.id = id;\n  }\n\n  if (className) {\n    if (ns) {\n      element.setAttribute('class', className);\n    } else {\n      element.className = className;\n    }\n  }\n\n  return element;\n}\n\nvar hookNames = ['onmount', 'onunmount'];\n\nfunction mount (parent, child, before) {\n  var parentEl = getEl(parent);\n  var childEl = getEl(child);\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  if (child !== childEl) {\n    childEl.__redom_view = child;\n  }\n\n  var wasMounted = childEl.__redom_mounted;\n  var oldParent = childEl.parentNode;\n\n  if (wasMounted && (oldParent !== parentEl)) {\n    doUnmount(child, childEl, oldParent);\n  }\n\n  if (before != null) {\n    parentEl.insertBefore(childEl, getEl(before));\n  } else {\n    parentEl.appendChild(childEl);\n  }\n\n  doMount(child, childEl, parentEl, oldParent);\n\n  return child;\n}\n\nfunction unmount (parent, child) {\n  var parentEl = getEl(parent);\n  var childEl = getEl(child);\n\n  if (child === childEl && childEl.__redom_view) {\n    // try to look up the view if not provided\n    child = childEl.__redom_view;\n  }\n\n  doUnmount(child, childEl, parentEl);\n\n  parentEl.removeChild(childEl);\n\n  return child;\n}\n\nfunction doMount (child, childEl, parentEl, oldParent) {\n  var hooks = childEl.__redom_lifecycle || (childEl.__redom_lifecycle = {});\n  var remount = (parentEl === oldParent);\n  var hooksFound = false;\n\n  for (var i = 0; i < hookNames.length; i++) {\n    var hookName = hookNames[i];\n\n    if (!remount && (child !== childEl) && (hookName in child)) {\n      hooks[hookName] = (hooks[hookName] || 0) + 1;\n    }\n    if (hooks[hookName]) {\n      hooksFound = true;\n    }\n  }\n\n  if (!hooksFound) {\n    childEl.__redom_mounted = true;\n    return;\n  }\n\n  var traverse = parentEl;\n  var triggered = false;\n\n  if (remount || (!triggered && (traverse && traverse.__redom_mounted))) {\n    trigger(childEl, remount ? 'onremount' : 'onmount');\n    triggered = true;\n  }\n\n  if (remount) {\n    return;\n  }\n\n  while (traverse) {\n    var parent = traverse.parentNode;\n    var parentHooks = traverse.__redom_lifecycle || (traverse.__redom_lifecycle = {});\n\n    for (var hook in hooks) {\n      parentHooks[hook] = (parentHooks[hook] || 0) + hooks[hook];\n    }\n\n    if (!triggered && (traverse === document || (parent && parent.__redom_mounted))) {\n      trigger(traverse, remount ? 'onremount' : 'onmount');\n      triggered = true;\n    }\n\n    traverse = parent;\n  }\n}\n\nfunction doUnmount (child, childEl, parentEl) {\n  var hooks = childEl.__redom_lifecycle;\n\n  if (!hooks) {\n    childEl.__redom_mounted = false;\n    return;\n  }\n\n  var traverse = parentEl;\n\n  if (childEl.__redom_mounted) {\n    trigger(childEl, 'onunmount');\n  }\n\n  while (traverse) {\n    var parentHooks = traverse.__redom_lifecycle || (traverse.__redom_lifecycle = {});\n    var hooksFound = false;\n\n    for (var hook in hooks) {\n      if (parentHooks[hook]) {\n        parentHooks[hook] -= hooks[hook];\n      }\n      if (parentHooks[hook]) {\n        hooksFound = true;\n      }\n    }\n\n    if (!hooksFound) {\n      traverse.__redom_lifecycle = null;\n    }\n\n    traverse = traverse.parentNode;\n  }\n}\n\nfunction trigger (el, eventName) {\n  if (eventName === 'onmount') {\n    el.__redom_mounted = true;\n  } else if (eventName === 'onunmount') {\n    el.__redom_mounted = false;\n  }\n\n  var hooks = el.__redom_lifecycle;\n\n  if (!hooks) {\n    return;\n  }\n\n  var view = el.__redom_view;\n  var hookCount = 0;\n\n  view && view[eventName] && view[eventName]();\n\n  for (var hook in hooks) {\n    if (hook) {\n      hookCount++;\n    }\n  }\n\n  if (hookCount) {\n    var traverse = el.firstChild;\n\n    while (traverse) {\n      var next = traverse.nextSibling;\n\n      trigger(traverse, eventName);\n\n      traverse = next;\n    }\n  }\n}\n\nfunction setStyle (view, arg1, arg2) {\n  var el = getEl(view);\n\n  if (arg2 !== undefined) {\n    el.style[arg1] = arg2;\n  } else if (isString(arg1)) {\n    el.setAttribute('style', arg1);\n  } else {\n    for (var key in arg1) {\n      setStyle(el, key, arg1[key]);\n    }\n  }\n}\n\nfunction setAttr (view, arg1, arg2) {\n  var el = getEl(view);\n  var isSVG = el instanceof window.SVGElement;\n\n  if (arg2 !== undefined) {\n    if (arg1 === 'style') {\n      setStyle(el, arg2);\n    } else if (isSVG && isFunction(arg2)) {\n      el[arg1] = arg2;\n    } else if (!isSVG && (arg1 in el || isFunction(arg2))) {\n      el[arg1] = arg2;\n    } else {\n      el.setAttribute(arg1, arg2);\n    }\n  } else {\n    for (var key in arg1) {\n      setAttr(el, key, arg1[key]);\n    }\n  }\n}\n\nvar text = function (str) { return document.createTextNode(str); };\n\nfunction parseArguments (element, args) {\n  for (var i = 0; i < args.length; i++) {\n    var arg = args[i];\n\n    if (arg !== 0 && !arg) {\n      continue;\n    }\n\n    // support middleware\n    if (typeof arg === 'function') {\n      arg(element);\n    } else if (isString(arg) || isNumber(arg)) {\n      element.appendChild(text(arg));\n    } else if (isNode(getEl(arg))) {\n      mount(element, arg);\n    } else if (arg.length) {\n      parseArguments(element, arg);\n    } else if (typeof arg === 'object') {\n      setAttr(element, arg);\n    }\n  }\n}\n\nvar ensureEl = function (parent) { return isString(parent) ? html(parent) : getEl(parent); };\nvar getEl = function (parent) { return (parent.nodeType && parent) || (!parent.el && parent) || getEl(parent.el); };\n\nvar isString = function (a) { return typeof a === 'string'; };\nvar isNumber = function (a) { return typeof a === 'number'; };\nvar isFunction = function (a) { return typeof a === 'function'; };\n\nvar isNode = function (a) { return a && a.nodeType; };\n\nvar htmlCache = {};\n\nvar memoizeHTML = function (query) { return htmlCache[query] || (htmlCache[query] = createElement(query)); };\n\nfunction html (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  if (isString(query)) {\n    element = memoizeHTML(query).cloneNode(false);\n  } else if (isNode(query)) {\n    element = query.cloneNode(false);\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArguments(element, args);\n\n  return element;\n}\n\nhtml.extend = function (query) {\n  var clone = memoizeHTML(query);\n\n  return html.bind(this, clone);\n};\n\nvar el = html;\n\nfunction setChildren (parent, children) {\n  if (children.length === undefined) {\n    return setChildren(parent, [children]);\n  }\n\n  var parentEl = getEl(parent);\n  var traverse = parentEl.firstChild;\n\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n\n    if (!child) {\n      continue;\n    }\n\n    var childEl = getEl(child);\n\n    if (childEl === traverse) {\n      traverse = traverse.nextSibling;\n      continue;\n    }\n\n    mount(parent, child, traverse);\n  }\n\n  while (traverse) {\n    var next = traverse.nextSibling;\n\n    unmount(parent, traverse);\n\n    traverse = next;\n  }\n}\n\nvar propKey = function (key) { return function (item) { return item[key]; }; };\n\nfunction list (parent, View, key, initData) {\n  return new List(parent, View, key, initData);\n}\n\nfunction List (parent, View, key, initData) {\n  this.__redom_list = true;\n  this.View = View;\n  this.initData = initData;\n  this.views = [];\n  this.el = ensureEl(parent);\n\n  if (key != null) {\n    this.lookup = {};\n    this.key = isFunction(key) ? key : propKey(key);\n  }\n}\n\nList.extend = function (parent, View, key, initData) {\n  return List.bind(List, parent, View, key, initData);\n};\n\nlist.extend = List.extend;\n\nList.prototype.update = function (data) {\n  var this$1 = this;\n  if ( data === void 0 ) data = [];\n\n  var View = this.View;\n  var key = this.key;\n  var keySet = key != null;\n  var initData = this.initData;\n  var newViews = new Array(data.length);\n  var oldViews = this.views;\n  var newLookup = key && {};\n  var oldLookup = key && this.lookup;\n\n  for (var i = 0; i < data.length; i++) {\n    var item = data[i];\n    var view = (void 0);\n\n    if (keySet) {\n      var id = key(item);\n      view = newViews[i] = oldLookup[id] || new View(initData, item, i, data);\n      newLookup[id] = view;\n      view.__id = id;\n    } else {\n      view = newViews[i] = oldViews[i] || new View(initData, item, i, data);\n    }\n    var el = view.el;\n    if (el.__redom_list) {\n      el = el.el;\n    }\n    el.__redom_view = view;\n    view.update && view.update(item, i, data);\n  }\n\n  if (keySet) {\n    for (var i$1 = 0; i$1 < oldViews.length; i$1++) {\n      var id$1 = oldViews[i$1].__id;\n\n      if (!(id$1 in newLookup)) {\n        unmount(this$1, oldLookup[id$1]);\n      }\n    }\n  }\n\n  setChildren(this, newViews);\n\n  if (keySet) {\n    this.lookup = newLookup;\n  }\n  this.views = newViews;\n};\n\nfunction router (parent, Views, initData) {\n  return new Router(parent, Views, initData);\n}\n\nvar Router = function Router (parent, Views, initData) {\n  this.el = ensureEl(parent);\n  this.Views = Views;\n  this.initData = initData;\n};\nRouter.prototype.update = function update (route, data) {\n  if (route !== this.route) {\n    var Views = this.Views;\n    var View = Views[route];\n\n    this.view = View && new View(this.initData, data);\n    this.route = route;\n\n    setChildren(this.el, [ this.view ]);\n  }\n  this.view && this.view.update && this.view.update(data, route);\n};\n\nvar SVG = 'http://www.w3.org/2000/svg';\n\nvar svgCache = {};\n\nvar memoizeSVG = function (query) { return svgCache[query] || (svgCache[query] = createElement(query, SVG)); };\n\nfunction svg (query) {\n  var args = [], len = arguments.length - 1;\n  while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n  var element;\n\n  if (isString(query)) {\n    element = memoizeSVG(query).cloneNode(false);\n  } else if (isNode(query)) {\n    element = query.cloneNode(false);\n  } else {\n    throw new Error('At least one argument required');\n  }\n\n  parseArguments(element, args);\n\n  return element;\n}\n\nsvg.extend = function (query) {\n  var clone = memoizeSVG(query);\n\n  return svg.bind(this, clone);\n};\n\nexport { html, el, list, List, mount, unmount, router, Router, setAttr, setStyle, setChildren, svg, text };\n","export const dispatch = (target, type, data) => {\n  const event = new window.CustomEvent('redom', {\n    bubbles: true,\n    detail: {\n      type, data\n    }\n  });\n  const el = target.el || target;\n\n  el.dispatchEvent(event);\n};\n\nexport const listen = (target, handlers) => {\n  const el = target.el || el;\n\n  const handler = e => {\n    const { type, data } = e.detail;\n\n    handlers[type] && handlers[type](data);\n  };\n\n  el.addEventListener('redom', handler);\n\n  return {\n    destroy () {\n      el.removeEventListener('redom', handler);\n    }\n  };\n};\n","import { el, text } from 'redom';\n\nexport class Hello {\n  constructor () {\n    this.el = el('h1',\n      'Hello ',\n      this.subject = text('RE:DOM'),\n      '!'\n    );\n  }\n  update (data) {\n    const { subject } = data;\n\n    this.subject.textContent = subject || 'RE:DOM';\n\n    this.data = data;\n  }\n}\n","import { el } from 'redom';\nimport { dispatch } from './dispatch';\nimport { Hello } from './hello';\n\nexport class App {\n  constructor () {\n    this.el = el('.app',\n      this.hello = new Hello(),\n      this.input = el('input', {\n        autofocus: true,\n        oninput: e => dispatch(this, 'hello', this.input.value),\n        placeholder: 'RE:DOM'\n      })\n    );\n    this.data = {};\n  }\n  update (data) {\n    const { hello } = data;\n\n    this.hello.update(hello);\n\n    this.data = data;\n  }\n}\n","var Store=function a(){this.data={}};Store.prototype.get=function b(a){if(!a){return this.data}var c=a.split('.'),d=this.data;for(var e=0;e<c.length;e++){var f=c[e];if(f in d)d=d[f];else{return}}return d};Store.prototype.set=function c(a,b){var d=a.split('.'),e=this.data=Object.assign({},this.data);for(var f=0;f<d.length;f++){var g=d[f];f===d.length-1?(e[g]=b):(e=e[g]=Object.assign({},e[g]))}};export default Store\n//# sourceMappingURL=redom-store.es.js.map\n","import { listen } from './dispatch';\nimport Store from '@redom/store';\n\nexport const api = (app) => {\n  const store = new Store();\n  let updating;\n\n  // Application logic:\n  listen(app, {\n    hello (subject) {\n      set('hello.subject', subject);\n    }\n  });\n\n  const set = (path, value) => {\n    store.set(path, value);\n    updating || (updating = window.requestAnimationFrame(() => {\n      updating = false;\n\n      app.update(store.get());\n    }));\n  };\n};\n","import { mount } from 'redom';\nimport { App } from './app';\nimport { api } from './api';\n\nconst app = new App();\n\napi(app);\n\nmount(document.body, app);\n"],"names":["HASH","DOT","createElement","query","ns","tag","id","className","mode","start","i","char","slice","element","hookNames","mount","parent","child","before","parentEl","getEl","childEl","wasMounted","oldParent","doUnmount","doMount","unmount","hooks","remount","hooksFound","hookName","traverse","triggered","trigger","parentHooks","hook","el","eventName","view","hookCount","next","setStyle","arg1","arg2","isString","key","setAttr","isSVG","isFunction","text","str","parseArguments","args","arg","isNumber","isNode","ensureEl","html","a","htmlCache","memoizeHTML","len","arguments","clone","setChildren","children","Router","Views","initData","update","route","data","View","const","dispatch","target","type","event","listen","handlers","handler","e","Hello","subject","App","this","hello","Store","b","c","d","f","g","api","app","store","updating","set","path","value"],"mappings":"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"}